/*! For license information please see index.js.LICENSE.txt */
(()=>{"use strict";var e={418:e=>{var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach((function(e){a[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},a)).join("")}catch(e){return!1}}()?Object.assign:function(e,s){for(var o,r,l=i(e),c=1;c<arguments.length;c++){for(var d in o=Object(arguments[c]))n.call(o,d)&&(l[d]=o[d]);if(t){r=t(o);for(var u=0;u<r.length;u++)a.call(o,r[u])&&(l[r[u]]=o[r[u]])}}return l}},251:(e,t,n)=>{n(418);var a=n(258),i=60103;if(t.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var s=Symbol.for;i=s("react.element"),t.Fragment=s("react.fragment")}var o=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,r=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var a,s={},c=null,d=null;for(a in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)r.call(t,a)&&!l.hasOwnProperty(a)&&(s[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===s[a]&&(s[a]=t[a]);return{$$typeof:i,type:e,key:c,ref:d,props:s,_owner:o.current}}t.jsx=c,t.jsxs=c},893:(e,t,n)=>{e.exports=n(251)},258:e=>{e.exports=require("react")}},t={};function n(a){var i=t[a];if(void 0!==i)return i.exports;var s=t[a]={exports:{}};return e[a](s,s.exports,n),s.exports}n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};(()=>{n.r(a),n.d(a,{Audio:()=>$,AudioPlayer:()=>ae,AudioPlayerControlSprite:()=>r,PlayListContext:()=>H,PlayListPanel:()=>le,PlayListProvider:()=>se});var e=n(893);const t="audio-player-icon-id-prefix-",i="#5a5a5a",s="0 0 24 24",o="http://www.w3.org/2000/svg";function r(){return(0,e.jsxs)("svg",Object.assign({className:"_1e8c6"},{children:[(0,e.jsx)("symbol",Object.assign({id:t+"button-pause-playlist",viewBox:s,xmlns:o},{children:(0,e.jsx)("path",{d:"M14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.84-5 6.7v2.07c4-.91 7-4.49 7-8.77 0-4.28-3-7.86-7-8.77M16.5 12c0-1.77-1-3.29-2.5-4.03V16c1.5-.71 2.5-2.24 2.5-4M3 9v6h4l5 5V4L7 9H3z",fill:"#4285f4"},void 0)}),void 0),(0,e.jsx)("symbol",Object.assign({id:t+"button-pause",viewBox:s,xmlns:o},{children:(0,e.jsx)("path",{d:"M14 19h4V5h-4M6 19h4V5H6v14z",fill:i},void 0)}),void 0),(0,e.jsx)("symbol",Object.assign({id:t+"button-play",viewBox:s,xmlns:o},{children:(0,e.jsx)("path",{d:"M8 5.14v14l11-7-11-7z",fill:i},void 0)}),void 0),(0,e.jsx)("symbol",Object.assign({id:t+"button-track-list",viewBox:"-1 -1 23 23",xmlns:o},{children:(0,e.jsx)("path",{d:"M19 9H2v2h17V9m0-4H2v2h17V5M2 15h13v-2H2v2m15-2v6l5-3-5-3z",fill:i},void 0)}),void 0),(0,e.jsx)("symbol",Object.assign({id:t+"button-prev-track",viewBox:s,xmlns:o},{children:(0,e.jsx)("path",{d:"M6 6h2v12H6zm3.5 6l8.5 6V6z",fill:i},void 0)}),void 0),(0,e.jsx)("symbol",Object.assign({id:t+"button-next-track",viewBox:s,xmlns:o},{children:(0,e.jsx)("path",{d:"M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z",fill:i},void 0)}),void 0),(0,e.jsx)("symbol",Object.assign({id:t+"button-repeat",viewBox:s,xmlns:o},{children:(0,e.jsx)("path",{d:"M17 17H7v-3l-4 4 4 4v-3h12v-6h-2M7 7h10v3l4-4-4-4v3H5v6h2V7z",fill:i},void 0)}),void 0),(0,e.jsx)("symbol",Object.assign({id:t+"button-repeat-one",viewBox:s,xmlns:o},{children:(0,e.jsx)("path",{d:"M13 15V9h-1l-2 1v1h1.5v4m5.5 2H7v-3l-4 4 4 4v-3h12v-6h-2M7 7h10v3l4-4-4-4v3H5v6h2V7z",fill:i},void 0)}),void 0),(0,e.jsx)("symbol",Object.assign({id:t+"button-shuffle",viewBox:s,xmlns:o},{children:(0,e.jsx)("path",{d:"M14.83 13.41l-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04-3.13-3.13M14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4m-9.41 5.17L5.41 4 4 5.41l5.17 5.17 1.42-1.41z",fill:i},void 0)}),void 0),(0,e.jsx)("symbol",Object.assign({id:t+"button-sound-off",viewBox:s,xmlns:o},{children:(0,e.jsx)("path",{d:"M12 4L9.91 6.09 12 8.18M4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.26c-.67.51-1.42.93-2.25 1.17v2.07c1.38-.32 2.63-.95 3.68-1.81L19.73 21 21 19.73l-9-9M19 12c0 .94-.2 1.82-.54 2.64l1.51 1.51A8.916 8.916 0 0 0 21 12c0-4.28-3-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71m-2.5 0c0-1.77-1-3.29-2.5-4.03v2.21l2.45 2.45c.05-.2.05-.42.05-.63z",fill:i},void 0)}),void 0),(0,e.jsx)("symbol",Object.assign({id:t+"button-sound-on",viewBox:s,xmlns:o},{children:(0,e.jsx)("path",{d:"M14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.84-5 6.7v2.07c4-.91 7-4.49 7-8.77 0-4.28-3-7.86-7-8.77M16.5 12c0-1.77-1-3.29-2.5-4.03V16c1.5-.71 2.5-2.24 2.5-4M3 9v6h4l5 5V4L7 9H3z",fill:i},void 0)}),void 0),(0,e.jsx)("symbol",Object.assign({id:t+"button-download",viewBox:s,xmlns:o},{children:(0,e.jsx)("path",{d:"M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z",fill:i},void 0)}),void 0),(0,e.jsx)("symbol",Object.assign({id:t+"play-list-menu",viewBox:s,xmlns:o},{children:(0,e.jsx)("path",{d:"M15 6H3v2h12V6zm0 4H3v2h12v-2zM3 16h8v-2H3v2zM17 6v8.18c-.31-.11-.65-.18-1-.18-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3V8h3V6h-5z",fill:i},void 0)}),void 0),(0,e.jsx)("symbol",Object.assign({id:t+"play-list-plus",viewBox:"-1 -1 23 23",xmlns:o},{children:(0,e.jsx)("path",{d:"M14 10H2v2h12v-2zm0-4H2v2h12V6zm4 8v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zM2 16h8v-2H2v2z",fill:i},void 0)}),void 0),(0,e.jsx)("symbol",Object.assign({id:t+"trash-bin",viewBox:s,xmlns:o},{children:(0,e.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z",fill:i},void 0)}),void 0)]}),void 0)}var l=n(258);function c(...e){const t=[];for(const n of e)if(n)if("string"!=typeof n)for(const e in n)n[e]&&t.push(e);else t.push(n);return t.join(" ")}const d="paused",u="playing",v={all:"all",none:"none",one:"one"},{none:f,all:m,one:p}=v,b=[f,m,p],g={activeIndex:0,isMuted:!1,isShuffleOn:!1,isTrackListOpen:!0,repeatingState:f};function h(t){const{className:n,imageId:a}=t;return(0,e.jsx)("svg",Object.assign({className:n},{children:(0,e.jsx)("use",{xlinkHref:a},void 0)}),void 0)}const x="span",j="cca939";function y(n){const{onClick:a,imageId:i,isActive:s,ariaLabel:o,className:r,tag:l,hasBorder:d}=n,u=c("ab4b49",{_b6da5:s,eb4290:d},r),v=(0,e.jsx)(h,{className:j,imageId:"#"+t+i},void 0);return"div"===l?(0,e.jsx)("div",Object.assign({className:u},{children:v}),void 0):l===x?(0,e.jsx)("span",Object.assign({className:u},{children:v}),void 0):(0,e.jsx)("button",Object.assign({"aria-label":o,className:u,onClick:a,type:"button"},{children:(0,e.jsx)(h,{className:j,imageId:"#"+t+i},void 0)}),void 0)}function k(e){return{minutes:String(Math.floor(e/60)),seconds:String(Math.floor(e%60)).padStart(2,"0")}}function L(t){const{currentTime:n,fullTime:a,className:i}=t,s=c("_86251",i),o=function(e,t){const{minutes:n,seconds:a}=k(e),{minutes:i,seconds:s}=k(t);return`${n}:${a} / ${i}:${s}`}(n,a);return(0,e.jsx)("span",Object.assign({className:s},{children:o}),void 0)}const C="undefined"!=typeof window,O="undefined"!=typeof navigator,S=O?navigator.userAgent:"",N=!(!O||!C)&&/iPad|iPhone|iPod/.test(S),w=!!O&&/(android)/i.test(S),P=!N&&!w&&C;function M(t){const[n,a]=(0,l.useState)(!1),i=(0,l.useRef)(null),{className:s,isDisable:o,progress:r,onChange:d,ariaLabel:u}=t,v=c("_7a72d",s,{_753fe:n,_6b9b7:!0===o});return(0,e.jsxs)("div",Object.assign({className:v,onPointerDown:function(){a(!0)},onPointerUp:function(){a(!1)}},{children:[(0,e.jsx)("div",Object.assign({className:"d92ec3"},{children:(0,e.jsx)("div",{className:"_c14ee",style:{transform:`translateZ(0) scaleX(${r||0})`}},void 0)}),void 0),(0,e.jsx)("div",Object.assign({className:"fd924c"},{children:(0,e.jsx)("div",{className:"_36b04",style:{left:100*r+"%"}},void 0)}),void 0),(0,e.jsx)("input",{"aria-label":u,className:"f59fe7",defaultValue:0,max:1,min:0,onChange:function(){d(function(){const{current:e}=i;return e?Number.parseFloat(e.value):0}())},ref:i,step:.001,type:"range"},void 0)]}),void 0)}const T=["nexttrack","pause","play","previoustrack","seekbackward","seekforward"];function I(e,t){if("undefined"!=typeof navigator&&"undefined"!=typeof MediaMetadata&&"mediaSession"in navigator&&(function(){if("undefined"!=typeof navigator&&"undefined"!=typeof MediaMetadata&&"mediaSession"in navigator){navigator.mediaSession.metadata=null;for(const e of T)navigator.mediaSession.setActionHandler(e,null)}}(),navigator.mediaSession.metadata=new MediaMetadata(e),t))for(const e of T)navigator.mediaSession.setActionHandler(e,t[e]||null)}function _(e){return function(){e.currentTime=0,e.addEventListener("canplay",(function t(){e.removeEventListener("canplay",t,!1),e.play().then((()=>{e.pause(),e.currentTime=0}))}),!1)}}function V(e,t){return e.src===t.src}function B(e){const{src:t,mediaMetadata:n,content:a}=e;let i={src:t};return n&&(i={...i,mediaMetadata:n}),a&&(i={...i,content:a}),i}const z=function(){const e={name:"",trackList:[]};return{createPlayList:()=>e,deletePlayList:e=>new Error("deletePlayList: overwrite me"),getAllPlayLists:()=>[e],getTrackById:e=>null,isInitialized:!1,removeTrackById:e=>new Error("removeTrack: overwrite me"),updatePlayList:(e,t)=>new Error("updatePlayList: overwrite me")}}(),H=(0,l.createContext)(z);function E(){return Math.round(1e6*Math.random()).toString(16)}function A(){return Math.random()>.5?1:-1}const R="No name playlist";function F(t){const{className:n,track:a}=t,i=c("c17de4",n),s=(0,l.useContext)(H),[o,r]=(0,l.useState)(0),{getAllPlayLists:d,updatePlayList:u,removeTrackById:v,isInitialized:f}=s,m=d(),p="-1",b=(0,l.useCallback)((function(e){const t=e.currentTarget,n=Number.parseInt(t.value,10),i=m[n],{src:s,mediaMetadata:l,content:c}=a;if(r(o+1),!i)return;const d=i.trackList.find((e=>V(e,a)));if(d)return void v(d.id);let f={id:E(),src:s};l&&(f={...f,mediaMetadata:l}),"string"==typeof c&&(f={...f,content:c});const b=[f,...i.trackList];u(i,{...i,trackList:b}),t.value=p}),[m,u,a,p,v,r,o]);return f?(0,e.jsxs)("label",Object.assign({className:"_981ec"},{children:[(0,e.jsx)(y,{ariaLabel:"play list menu",className:i,imageId:"play-list-menu"},void 0),(0,e.jsxs)("select",Object.assign({className:"_fc854",defaultValue:p,onChange:b},{children:[(0,e.jsx)("option",Object.assign({disabled:!0,value:p},{children:" "}),void 0),m.map(((t,n)=>{const i=t.trackList.find((e=>V(e,a))),s=t.name.trim()||R,o=(i?"[✓]":"[_]")+" "+s;return(0,e.jsx)("option",Object.assign({value:n},{children:o}),String(n)+s)}))]}),o)]}),void 0):(0,e.jsx)("div",{},void 0)}function $(t){const{src:n,mediaMetadata:a,className:i,onDidMount:s,downloadFileName:o,useRepeatButton:r=!1}=t,v=(0,l.useRef)(null),[f,m]=(0,l.useState)(0),[p,b]=(0,l.useState)(0),[g,h]=(0,l.useState)(P?.5:1),[j,k]=(0,l.useState)(!1),[C,O]=(0,l.useState)(d),[S,N]=(0,l.useState)(!1),w=j||0===g?"button-sound-off":"button-sound-on";function T(){const e=v.current;if(e)return e;throw new Error("Audio tag is not exists")}function V(){T().play()}function B(){T().currentTime+=10}function z(){T().currentTime-=10}return(0,l.useEffect)((()=>{const e=T();s&&s(e)}),[s]),(0,e.jsxs)("div",Object.assign({className:c("_64ec1",i)},{children:[(0,e.jsx)("audio",Object.assign({className:"cebc3f",onEnded:function(){if(T().currentTime=0,S)return m(0),void V();O(d),m(0)},onLoadedMetadata:function(){const e=T();m(0),b(e.duration),e.volume=g},onPause:function(){O(d)},onPlay:function(){O(u);const e={seekbackward:z,seekforward:B,stop:_(T())};I(a||{title:n},e)},onTimeUpdate:function(){const e=T();m(e.currentTime)},onVolumeChange:function(){const e=T();k(e.muted),h(e.volume)},preload:"metadata",ref:v,src:n,volume:g},{children:(0,e.jsx)("track",{kind:"captions",src:n},void 0)}),void 0),C===u?(0,e.jsx)(y,{ariaLabel:"pause",imageId:"button-pause",onClick:function(){T().pause()}},void 0):(0,e.jsx)(y,{ariaLabel:"play",imageId:"button-play",onClick:V},void 0),r?(0,e.jsx)(y,{ariaLabel:"repeat",imageId:"button-repeat",isActive:S,onClick:function(){N(!S)}},void 0):null,(0,e.jsx)(L,{className:"bd8dee",currentTime:f,fullTime:p},void 0),(0,e.jsx)(M,{ariaLabel:"progress bar",onChange:function(e){const t=T(),n=e*p;t.currentTime=n,m(n)},progress:f/p},void 0),P?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(y,{ariaLabel:"switch-sound",imageId:w,onClick:function(){const e=T(),t=!e.muted;e.muted=t,k(t)}},void 0),(0,e.jsx)(M,{ariaLabel:"volume bar",className:"_e597d",onChange:function(e){T().volume=e,h(e)},progress:g},void 0)]},void 0):null,(0,e.jsx)("a",Object.assign({className:"_40f3d",download:o||!0,href:n},{children:(0,e.jsx)(y,{ariaLabel:"download",imageId:"button-download",tag:x},void 0)}),void 0),(0,e.jsx)(F,{track:{mediaMetadata:a,src:n}},void 0)]}),void 0)}function W(e,t,n){const a=(t+n)%e;return a<0?a+e:a}function D(e,t,n){if(t-e<1)return e;const a=e+Math.floor(Math.random()*(t-e));return n&&n.includes(a)?D(e,t,n):a}const U="static",{size:q}={size:48};function J(t){const{size:n,lineWidth:a,arcColor:i,circleColor:s,isShow:o,wrapperWidth:r,wrapperHeight:l,position:d,wrapperColor:u,wrapperPadding:v,className:f}=t;if(!1===o)return null;const m=d||U,p=n||q,b={borderColor:s,borderTopColor:i,borderWidth:a,height:p,width:p},g={backgroundColor:u,height:l,minHeight:p,minWidth:p,padding:v,position:m,width:r};return(0,e.jsx)("div",Object.assign({className:c("_b3cad",f,{_bee9f:m===U}),style:g},{children:(0,e.jsx)("div",{className:"_bc2b7",style:b},void 0)}),void 0)}function Z(t){const{trackCurrentTime:n,trackFullTime:a,onClickMuteVolume:i,isMuted:s,trackVolume:o,onChangeProgressBar:r,onChangeVolumeBar:l}=t,c=s||0===o?"button-sound-off":"button-sound-on",d=0!==a;return(0,e.jsxs)("div",Object.assign({className:"_c206d"},{children:[(0,e.jsx)(L,{className:"_273f4",currentTime:n,fullTime:a},void 0),(0,e.jsx)(M,{ariaLabel:"progress bar",isDisable:!d,onChange:r,progress:d?n/a:0},void 0),P?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(y,{ariaLabel:"switch-sound",className:"",imageId:c,onClick:i},void 0),(0,e.jsx)(M,{ariaLabel:"volume bar",className:"_7a529",onChange:l,progress:o},void 0)]},void 0):null]}),void 0)}const{one:X,all:Y}=v;function G(t){const{onClickShuffle:n,onClickRepeat:a,onClickPrevTrack:i,onClickPlay:s,onClickNextTrack:o,onClickTrackList:r,playingState:l,isShuffleOn:c,repeatingState:d,isTrackListOpen:v}=t,f=l===u;return(0,e.jsxs)("div",Object.assign({className:"f3cd03"},{children:[(0,e.jsx)(y,{ariaLabel:"shuffle",imageId:"button-shuffle",isActive:c,onClick:n},void 0),(0,e.jsx)(y,{ariaLabel:"repeat",imageId:d===X?"button-repeat-one":"button-repeat",isActive:d===X||d===Y,onClick:a},void 0),(0,e.jsx)(y,{ariaLabel:"prev",imageId:"button-prev-track",onClick:i},void 0),f?(0,e.jsx)(y,{ariaLabel:"pause",imageId:"button-pause",onClick:s},void 0):(0,e.jsx)(y,{ariaLabel:"play",imageId:"button-play",onClick:s},void 0),(0,e.jsx)(y,{ariaLabel:"next",imageId:"button-next-track",onClick:o},void 0),(0,e.jsx)(y,{ariaLabel:"track-list",imageId:"button-track-list",isActive:v,onClick:r},void 0)]}),void 0)}function K(t){const{onClickShuffle:n,onClickRepeat:a,onClickPrevTrack:i,onClickPlay:s,onClickNextTrack:o,onClickTrackList:r,onClickMuteVolume:l,onChangeProgressBar:c,onChangeVolumeBar:d,isMuted:u,playingState:v,isShuffleOn:f,repeatingState:m,isTrackListOpen:p,trackCurrentTime:b,trackVolume:g,trackFullTime:h,isLoading:x}=t;return(0,e.jsxs)("div",Object.assign({className:"_dd7c1"},{children:[(0,e.jsx)(J,{className:"d41c2d",isShow:x,lineWidth:3,position:"absolute",size:26,wrapperHeight:26,wrapperPadding:0,wrapperWidth:26},void 0),(0,e.jsx)(G,{isShuffleOn:f,isTrackListOpen:p,onClickNextTrack:o,onClickPlay:s,onClickPrevTrack:i,onClickRepeat:a,onClickShuffle:n,onClickTrackList:r,playingState:v,repeatingState:m},void 0),(0,e.jsx)(Z,{isMuted:u,onChangeProgressBar:c,onChangeVolumeBar:d,onClickMuteVolume:l,trackCurrentTime:b,trackFullTime:h,trackVolume:g},void 0)]}),void 0)}const Q="_f426b",ee="_fd9ee";function te(n){const{isCurrentTrack:a,activeIndex:i,track:s,playingState:o,onClickPlay:r,setActiveIndex:d,isLoading:v,playByIndex:f}=n,[m,p]=(0,l.useState)(0),{minutes:b,seconds:g}=k(m),x=(0,l.useRef)(null),{src:j}=s,y=function(e){const{content:t,mediaMetadata:n,src:a}=e;if(t)return t;const i=n&&n.title;if(i)return i;const s=a.split("/").pop();if(!s)return"";const o=s.lastIndexOf(".");return o>0?s.slice(0,o):s}(s),L=(0,e.jsx)(J,{isShow:v,lineWidth:4,position:"absolute",size:30,wrapperPadding:0},void 0),C=c("a54fd2",{_55bda:a});function O(){d(i)}function S(){f(i)}return(0,e.jsxs)("li",Object.assign({className:C},{children:[(0,e.jsx)("audio",{className:"f176aa",muted:!0,onLoadedMetadata:function(){const e=function(){const e=x.current;if(e)return e;throw new Error("Audio tag is not exists")}();p(e.duration)},preload:"metadata",ref:x,src:j},void 0),function(){const n="#"+t+"button-play",i="play";return o===u?a?(0,e.jsxs)("button",Object.assign({"aria-label":i,className:Q,onClick:r,type:"button"},{children:[L,(0,e.jsx)(h,{className:"d3fe17",imageId:"#audio-player-icon-id-prefix-button-pause-playlist"},void 0)]}),void 0):(0,e.jsx)("button",Object.assign({"aria-label":i,className:Q,onClick:O,type:"button"},{children:(0,e.jsx)(h,{className:ee,imageId:n},void 0)}),void 0):a?(0,e.jsxs)("button",Object.assign({"aria-label":i,className:Q,onClick:r,type:"button"},{children:[L,(0,e.jsx)(h,{className:ee,imageId:n},void 0)]}),void 0):(0,e.jsx)("button",Object.assign({"aria-label":i,className:Q,onClick:S,type:"button"},{children:(0,e.jsx)(h,{className:ee,imageId:n},void 0)}),void 0)}(),(0,e.jsx)("div",Object.assign({className:"_b9457"},{children:(0,e.jsx)("div",Object.assign({className:"af063e"},{children:y}),void 0)}),void 0),(0,e.jsx)("div",Object.assign({className:"_0cf4c"},{children:`${b}:${g}`}),void 0),(0,e.jsx)(F,{className:"e3fd40",track:s},void 0)]}),void 0)}function ne(t){const{activeIndex:n,trackList:a,playingState:i,onClickPlay:s,setActiveIndex:o,isLoading:r,playByIndex:l}=t;return(0,e.jsx)("ul",Object.assign({className:"b80740"},{children:a.map(((t,a)=>{const c=n===a;return(0,e.jsx)(te,{activeIndex:a,isCurrentTrack:c,isLoading:r&&c,onClickPlay:s,playByIndex:l,playingState:i,setActiveIndex:o,track:t},t.src)}))}),void 0)}function ae(t){const{defaultState:n,className:a,onDidMount:i,trackList:s}=t,o=function(e){return e?{...g,...e}:g}(n),[r,c]=(0,l.useState)(0),[f,m]=(0,l.useState)(0),[p,h]=(0,l.useState)(P?.5:1),[x,j]=(0,l.useState)(o.isMuted),[y,k]=(0,l.useState)(d),[L,C]=(0,l.useState)(o.activeIndex),[O,S]=(0,l.useState)(o.isShuffleOn),[N,w]=(0,l.useState)(o.repeatingState),[M,T]=(0,l.useState)(o.isTrackListOpen),[V,B]=(0,l.useState)(!1),[z,H]=(0,l.useState)(!1),E=(0,l.useRef)(null);function A(){return E.current||(console.error("Audio tag is not exists"),document.createElement("audio"))}function R(){return s[L]||null}function F(){const e=R();if(!e)return;const{mediaMetadata:t}=e;t&&I(t,{nexttrack:J,previoustrack:Y,seekbackward:X,seekforward:Z,stop:_(A())})}function $(e){C(e),B(!0),c(0),m(0),F()}function U(){const e=R();return e?e.src:""}function q(){const e=A();e.paused?e.play():e.pause()}function J(){$(W(s.length,L,1))}function Z(){A().currentTime+=10}function X(){A().currentTime-=10}function Y(){$(W(s.length,L,-1))}return(0,l.useEffect)((()=>{const e=A();i&&i(e)}),[i]),(0,e.jsxs)("div",Object.assign({className:a||""},{children:[(0,e.jsx)("audio",Object.assign({autoPlay:y===u,className:"_35baa",muted:x,onCanPlay:function(){z&&(H(!1),q())},onEnded:function(){const{one:e,all:t,none:n}=v,a=s.length;if(H(!0),a<=1)return C(0),void c(0);if(O)$(D(0,a,[L]));else{if(N===e)return H(!1),void q();N!==t?L<a-1?J():(H(!1),$(0)):J()}},onLoadedMetadata:function(){const e=A();B(!1),m(e.duration),e.volume=p},onPause:function(){k(d)},onPlay:function(){k(u),F()},onTimeUpdate:function(){const e=A();c(e.currentTime)},onVolumeChange:function(){const e=A();j(e.muted),h(e.volume)},preload:"metadata",ref:E,src:U(),volume:p},{children:(0,e.jsx)("track",{kind:"captions",src:U()},void 0)}),"audio-tag"),(0,e.jsx)(K,{isLoading:V,isMuted:x,isShuffleOn:O,isTrackListOpen:M,onChangeProgressBar:function(e){A().currentTime=e*f},onChangeVolumeBar:function(e){A().volume=e},onClickMuteVolume:function(){const e=A(),t=!e.muted;e.muted=t,j(t)},onClickNextTrack:J,onClickPlay:q,onClickPrevTrack:Y,onClickRepeat:function(){const e=(b.indexOf(N)+1)%b.length;w(b[e])},onClickShuffle:function(){S(!O)},onClickTrackList:function(){T(!M)},playingState:y,repeatingState:N,trackCurrentTime:r,trackFullTime:f,trackVolume:p},void 0),M?(0,e.jsx)(ne,{activeIndex:L,isLoading:V,onClickPlay:q,playByIndex:function(e){C(e),B(!0);const t=A();t.addEventListener("canplay",(function e(){B(!1),t.removeEventListener("canplay",e,!1),t.play()}),!1)},playingState:y,setActiveIndex:$,trackList:s},void 0):null]}),void 0)}const ie="react-audio-player-play-list-storage-key-v.1.0.0";function se(t){const{children:n}=t,[a,i]=(0,l.useState)(function(){if("undefined"==typeof localStorage)return[{name:"Play list",trackList:[]}];const e=localStorage.getItem(ie);return e?JSON.parse(e):[{name:"Play list",trackList:[]}]}()),s=(0,l.useCallback)((function(e){const t=a.length;for(let n=0;n<t;n+=1){const{trackList:t}=a[n],i=t.length;for(let n=0;n<i;n+=1){const a=t[n];if(a.id===e)return a}}return null}),[a]),o=(0,l.useCallback)((function(){const e={name:"Play list "+Array.from({length:4}).map(E).sort(A).join("").slice(0,4),trackList:[]},t=[...a,e];return i(t),e}),[a,i]),r=(0,l.useCallback)((function(){return[...a]}),[a]),c=(0,l.useCallback)((function(e,t){const n=[...a],s=n.indexOf(e);return s<0?new Error("Old Play List is not exists."):(n[s]=t,i(n),t)}),[a,i]),d=(0,l.useCallback)((function(e){const t=[...a],n=t.indexOf(e);return n<0?new Error("Play List is not exists."):(t.splice(n,1),i(t),null)}),[a,i]),u=(0,l.useCallback)((function(e){const t=a.length;for(let n=0;n<t;n+=1){const t=a[n],{trackList:i}=t,s=i.length;for(let n=0;n<s;n+=1)if(i[n].id===e){const e=[...i];return e.splice(n,1),c(t,{...t,trackList:e}),null}}return new Error("Track is not exists.")}),[a,c]),v=(0,l.useMemo)((()=>({createPlayList:o,deletePlayList:d,getAllPlayLists:r,getTrackById:s,isInitialized:!0,removeTrackById:u,updatePlayList:c})),[o,r,c,d,u,s]);return(0,l.useEffect)((()=>{var e;e=a,"undefined"!=typeof localStorage&&localStorage.setItem(ie,JSON.stringify(e))}),[a]),(0,e.jsx)(H.Provider,Object.assign({value:v},{children:n}),void 0)}function oe(t){const{playList:n}=t,{trackList:a,name:i}=n,s=(0,l.useRef)(null),o=(0,l.useContext)(H),{updatePlayList:r,deletePlayList:c,getAllPlayLists:d}=o,u=d(),v=a.length>0,f=(0,l.useCallback)((function(){r(n,{name:(s.current||(()=>{throw new Error("Can not get input of play list name")})()).value.trim(),trackList:a})}),[r,n,a]),m=(0,l.useCallback)((function(){c(n)}),[c,n]),p=u.length>1&&0===a.length?"b2d25c":"cd9787";return(0,e.jsxs)("div",Object.assign({className:"af96dd"},{children:[(0,e.jsxs)("div",Object.assign({className:"_0f937"},{children:[(0,e.jsx)("input",{className:"ee4382",defaultValue:i,onBlur:f,placeholder:R,ref:s,type:"text"},void 0),(0,e.jsx)(y,{ariaLabel:"delete",className:p,imageId:"trash-bin",onClick:m},void 0)]}),void 0),v?(0,e.jsx)(ae,{trackList:a.map(B)},void 0):(0,e.jsx)("p",Object.assign({className:"_83a96"},{children:"∅"}),void 0)]}),void 0)}function re(t,n){return(0,e.jsx)(oe,{playList:t},t.name+"-"+String(n))}function le(){const t=(0,l.useContext)(H),{createPlayList:n,getAllPlayLists:a}=t,i=a();return(0,e.jsxs)("div",Object.assign({className:"aa33be"},{children:[i.map(re),(0,e.jsx)("div",Object.assign({className:"c3b5e7"},{children:(0,e.jsx)(y,{ariaLabel:"add play list",className:"_5da7d",imageId:"play-list-plus",onClick:n},void 0)}),void 0)]}),void 0)}})(),module.exports=a})();