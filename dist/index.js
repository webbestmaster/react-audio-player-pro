(()=>{"use strict";var e={d:(t,n)=>{for(var a in n)e.o(n,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:n[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{Audio:()=>A,AudioPlayer:()=>K,AudioPlayerControlSprite:()=>o,PlayListContext:()=>I,PlayListPanel:()=>ne,PlayListProvider:()=>Y});const n=require("react/jsx-runtime"),a="audio-player-icon-id-prefix-",i="#5a5a5a",s="0 0 24 24",l="http://www.w3.org/2000/svg";function o(){return(0,n.jsxs)("svg",{className:"e05e18",children:[(0,n.jsx)("symbol",{id:a+"button-pause-playlist",viewBox:s,xmlns:l,children:(0,n.jsx)("path",{d:"M14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.84-5 6.7v2.07c4-.91 7-4.49 7-8.77 0-4.28-3-7.86-7-8.77M16.5 12c0-1.77-1-3.29-2.5-4.03V16c1.5-.71 2.5-2.24 2.5-4M3 9v6h4l5 5V4L7 9H3z",fill:"#4285f4"})}),(0,n.jsx)("symbol",{id:a+"button-pause",viewBox:s,xmlns:l,children:(0,n.jsx)("path",{d:"M14 19h4V5h-4M6 19h4V5H6v14z",fill:i})}),(0,n.jsx)("symbol",{id:a+"button-play",viewBox:s,xmlns:l,children:(0,n.jsx)("path",{d:"M8 5.14v14l11-7-11-7z",fill:i})}),(0,n.jsx)("symbol",{id:a+"button-track-list",viewBox:"-1 -1 23 23",xmlns:l,children:(0,n.jsx)("path",{d:"M19 9H2v2h17V9m0-4H2v2h17V5M2 15h13v-2H2v2m15-2v6l5-3-5-3z",fill:i})}),(0,n.jsx)("symbol",{id:a+"button-prev-track",viewBox:s,xmlns:l,children:(0,n.jsx)("path",{d:"M6 6h2v12H6zm3.5 6l8.5 6V6z",fill:i})}),(0,n.jsx)("symbol",{id:a+"button-next-track",viewBox:s,xmlns:l,children:(0,n.jsx)("path",{d:"M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z",fill:i})}),(0,n.jsx)("symbol",{id:a+"button-repeat",viewBox:s,xmlns:l,children:(0,n.jsx)("path",{d:"M17 17H7v-3l-4 4 4 4v-3h12v-6h-2M7 7h10v3l4-4-4-4v3H5v6h2V7z",fill:i})}),(0,n.jsx)("symbol",{id:a+"button-repeat-one",viewBox:s,xmlns:l,children:(0,n.jsx)("path",{d:"M13 15V9h-1l-2 1v1h1.5v4m5.5 2H7v-3l-4 4 4 4v-3h12v-6h-2M7 7h10v3l4-4-4-4v3H5v6h2V7z",fill:i})}),(0,n.jsx)("symbol",{id:a+"button-shuffle",viewBox:s,xmlns:l,children:(0,n.jsx)("path",{d:"M14.83 13.41l-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04-3.13-3.13M14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4m-9.41 5.17L5.41 4 4 5.41l5.17 5.17 1.42-1.41z",fill:i})}),(0,n.jsx)("symbol",{id:a+"button-sound-off",viewBox:s,xmlns:l,children:(0,n.jsx)("path",{d:"M12 4L9.91 6.09 12 8.18M4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.26c-.67.51-1.42.93-2.25 1.17v2.07c1.38-.32 2.63-.95 3.68-1.81L19.73 21 21 19.73l-9-9M19 12c0 .94-.2 1.82-.54 2.64l1.51 1.51A8.916 8.916 0 0 0 21 12c0-4.28-3-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71m-2.5 0c0-1.77-1-3.29-2.5-4.03v2.21l2.45 2.45c.05-.2.05-.42.05-.63z",fill:i})}),(0,n.jsx)("symbol",{id:a+"button-sound-on",viewBox:s,xmlns:l,children:(0,n.jsx)("path",{d:"M14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.84-5 6.7v2.07c4-.91 7-4.49 7-8.77 0-4.28-3-7.86-7-8.77M16.5 12c0-1.77-1-3.29-2.5-4.03V16c1.5-.71 2.5-2.24 2.5-4M3 9v6h4l5 5V4L7 9H3z",fill:i})}),(0,n.jsx)("symbol",{id:a+"button-download",viewBox:s,xmlns:l,children:(0,n.jsx)("path",{d:"M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z",fill:i})}),(0,n.jsx)("symbol",{id:a+"play-list-menu",viewBox:s,xmlns:l,children:(0,n.jsx)("path",{d:"M15 6H3v2h12V6zm0 4H3v2h12v-2zM3 16h8v-2H3v2zM17 6v8.18c-.31-.11-.65-.18-1-.18-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3V8h3V6h-5z",fill:i})}),(0,n.jsx)("symbol",{id:a+"play-list-plus",viewBox:"-1 -1 23 23",xmlns:l,children:(0,n.jsx)("path",{d:"M14 10H2v2h12v-2zm0-4H2v2h12V6zm4 8v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zM2 16h8v-2H2v2z",fill:i})}),(0,n.jsx)("symbol",{id:a+"trash-bin",viewBox:s,xmlns:l,children:(0,n.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z",fill:i})})]})}const r=require("react");function c(...e){const t=[];for(const n of e)if(n)if("string"!=typeof n)for(const e in n)n[e]&&t.push(e);else t.push(n);return t.join(" ")}const u="paused",d="playing",f={all:"all",none:"none",one:"one"},{none:m,all:p,one:h}=f,x=[m,p,h],v={activeIndex:0,isMuted:!1,isShuffleOn:!1,isTrackListOpen:!0,repeatingState:m};function b(e){const{className:t,imageId:a}=e;return(0,n.jsx)("svg",{className:t,children:(0,n.jsx)("use",{xlinkHref:a})})}const k="span",g="ac7b4a";function y(e){const{onClick:t,imageId:i,isActive:s,ariaLabel:l,className:o,tag:r,hasBorder:u,isHideForNarrow:d}=e,f=c("bff2b5",{a45085:s,fde0b7:u,ab5ee0:d},o),m=(0,n.jsx)(b,{className:g,imageId:"#"+a+i});return"div"===r?(0,n.jsx)("div",{className:f,children:m}):r===k?(0,n.jsx)("span",{className:f,children:m}):(0,n.jsx)("button",{"aria-label":l,className:f,onClick:t,type:"button",children:(0,n.jsx)(b,{className:g,imageId:"#"+a+i})})}function j(e){return{minutes:String(Math.floor(e/60)),seconds:String(Math.floor(e%60)).padStart(2,"0")}}function L(e){const{currentTime:t,fullTime:a,className:i}=e,s=c("c7b08a",i),l=function(e,t){const{minutes:n,seconds:a}=j(e),{minutes:i,seconds:s}=j(t);return`${n}:${a} / ${i}:${s}`}(t,a);return(0,n.jsx)("span",{className:s,children:l})}function C(e){const[t,a]=(0,r.useState)(!1),i=(0,r.useRef)(null),{className:s,isDisable:l,progress:o,onChange:u,ariaLabel:d,isHideForNarrow:f}=e,m=c("e0b58b",s,{d6d969:t,c0ae57:!0===l,e13c85:f});return(0,n.jsxs)("div",{className:m,onPointerDown:function(){a(!0)},onPointerUp:function(){a(!1)},children:[(0,n.jsx)("div",{className:"cc7be8",children:(0,n.jsx)("div",{className:"c44fc5",style:{transform:`translateZ(0) scaleX(${o||0})`}})}),(0,n.jsx)("div",{className:"eee1d0",children:(0,n.jsx)("div",{className:"f79532",style:{left:100*o+"%"}})}),(0,n.jsx)("input",{"aria-label":d,className:"f9d0be",defaultValue:0,max:1,min:0,onChange:function(){u(function(){const{current:e}=i;return e?Number.parseFloat(e.value):0}())},ref:i,step:.001,type:"range"})]})}const N=["nexttrack","pause","play","previoustrack","seekbackward","seekforward"];function S(e,t){if("undefined"!=typeof navigator&&"undefined"!=typeof MediaMetadata&&"mediaSession"in navigator&&(function(){if("undefined"!=typeof navigator&&"undefined"!=typeof MediaMetadata&&"mediaSession"in navigator){navigator.mediaSession.metadata=null;for(const e of N)navigator.mediaSession.setActionHandler(e,null)}}(),navigator.mediaSession.metadata=new MediaMetadata(e),t))for(const e of N)navigator.mediaSession.setActionHandler(e,t[e]||null)}function M(e){return function(){e.currentTime=0,e.addEventListener("canplay",(function t(){e.removeEventListener("canplay",t,!1),e.play().then((()=>{e.pause(),e.currentTime=0}))}),!1)}}function w(e,t){return e.src===t.src}function P(e){const{src:t,mediaMetadata:n,content:a}=e;let i={src:t};return n&&(i={...i,mediaMetadata:n}),a&&(i={...i,content:a}),i}const T=function(){const e={name:"",trackList:[]};return{createPlayList:()=>e,deletePlayList:e=>new Error("deletePlayList: overwrite me"),getAllPlayLists:()=>[e],getTrackById:e=>null,isInitialized:!1,removeTrackById:e=>new Error("removeTrack: overwrite me"),updatePlayList:(e,t)=>new Error("updatePlayList: overwrite me")}}(),I=(0,r.createContext)(T);function V(){return Math.round(1e6*Math.random()).toString(16)}function H(){return Math.random()>.5?1:-1}const B="No name playlist";function z(e){const{className:t,track:a}=e,i=c("cf10f9",t),s=(0,r.useContext)(I),[l,o]=(0,r.useState)(0),{getAllPlayLists:u,updatePlayList:d,removeTrackById:f,isInitialized:m}=s,p=u(),h="-1",x=(0,r.useCallback)((function(e){const t=e.currentTarget,n=Number.parseInt(t.value,10),i=p[n],{src:s,mediaMetadata:r,content:c}=a;if(o(l+1),!i)return;const u=i.trackList.find((e=>w(e,a)));if(u)return void f(u.id);let m={id:V(),src:s};r&&(m={...m,mediaMetadata:r}),"string"==typeof c&&(m={...m,content:c});const x=[m,...i.trackList];d(i,{...i,trackList:x}),t.value=h}),[p,d,a,h,f,o,l]);return m?(0,n.jsxs)("label",{className:"b8f0f4",children:[(0,n.jsx)(y,{ariaLabel:"play list menu",className:i,imageId:"play-list-menu"}),(0,n.jsxs)("select",{className:"f2a1b7",defaultValue:h,onChange:x,children:[(0,n.jsx)("option",{disabled:!0,value:h,children:" "}),p.map(((e,t)=>{const i=e.trackList.find((e=>w(e,a))),s=e.name.trim()||B,l=(i?"[✓]":"[_]")+" "+s;return(0,n.jsx)("option",{value:t,children:l},String(t)+s)}))]},l)]}):null}function A(e){const{src:t,mediaMetadata:a,className:i,onDidMount:s,downloadFileName:l,useRepeatButton:o=!1}=e,f=(0,r.useRef)(null),[m,p]=(0,r.useState)(0),[h,x]=(0,r.useState)(0),[v,b]=(0,r.useState)(1),[g,j]=(0,r.useState)(!1),[N,w]=(0,r.useState)(u),[P,T]=(0,r.useState)(!1),I=g||0===v?"button-sound-off":"button-sound-on";function V(){const e=f.current;if(e)return e;throw new Error("Audio tag is not exists")}function H(){V().play()}function B(){V().currentTime+=10}function A(){V().currentTime-=10}return(0,r.useEffect)((()=>{const e=V();s&&s(e)}),[s]),(0,n.jsxs)("div",{className:c("ce6c17",i),children:[(0,n.jsx)("audio",{className:"e22549",onEnded:function(){if(V().currentTime=0,P)return p(0),void H();w(u),p(0)},onLoadedMetadata:function(){const e=V();p(0),x(e.duration),e.volume=v},onPause:function(){w(u)},onPlay:function(){w(d);const e={seekbackward:A,seekforward:B,stop:M(V())};S(a||{title:t},e)},onTimeUpdate:function(){const e=V();p(e.currentTime)},onVolumeChange:function(){const e=V();j(e.muted),b(e.volume)},preload:"metadata",ref:f,src:t,volume:v,children:(0,n.jsx)("track",{kind:"captions",src:t})}),N===d?(0,n.jsx)(y,{ariaLabel:"pause",imageId:"button-pause",onClick:function(){V().pause()}}):(0,n.jsx)(y,{ariaLabel:"play",imageId:"button-play",onClick:H}),o?(0,n.jsx)(y,{ariaLabel:"repeat",imageId:"button-repeat",isActive:P,onClick:function(){T(!P)}}):null,(0,n.jsx)(L,{className:"e154e9",currentTime:m,fullTime:h}),(0,n.jsx)(C,{ariaLabel:"progress bar",onChange:function(e){const t=V(),n=e*h;t.currentTime=n,p(n)},progress:m/h}),(0,n.jsx)(y,{ariaLabel:"switch-sound",imageId:I,isHideForNarrow:!0,onClick:function(){const e=V(),t=!e.muted;e.muted=t,j(t)}}),(0,n.jsx)(C,{ariaLabel:"volume bar",className:"cae029",isHideForNarrow:!0,onChange:function(e){V().volume=e,b(e)},progress:v}),(0,n.jsx)("a",{className:"a3d9e7",download:l||!0,href:t,children:(0,n.jsx)(y,{ariaLabel:"download",imageId:"button-download",tag:k})}),(0,n.jsx)(z,{track:{mediaMetadata:a,src:t}})]})}function O(e,t,n){const a=(t+n)%e;return a<0?a+e:a}function E(e,t,n){if(t-e<1)return e;const a=e+Math.floor(Math.random()*(t-e));return n&&n.includes(a)?E(e,t,n):a}const F="static",{size:R}={size:48};function W(e){const{size:t,lineWidth:a,arcColor:i,circleColor:s,isShow:l,wrapperWidth:o,wrapperHeight:r,position:u,wrapperColor:d,wrapperPadding:f,className:m}=e;if(!1===l)return null;const p=u||F,h=t||R,x={borderColor:s,borderTopColor:i,borderWidth:a,height:h,width:h},v={backgroundColor:d,height:r,minHeight:h,minWidth:h,padding:f,position:p,width:o};return(0,n.jsx)("div",{className:c("c82f2f",m,{da10e0:p===F}),style:v,children:(0,n.jsx)("div",{className:"d9b0ab",style:x})})}function $(e){const{trackCurrentTime:t,trackFullTime:a,onClickMuteVolume:i,isMuted:s,trackVolume:l,onChangeProgressBar:o,onChangeVolumeBar:r}=e,c=s||0===l?"button-sound-off":"button-sound-on",u=0!==a;return(0,n.jsxs)("div",{className:"bd925c",children:[(0,n.jsx)(L,{className:"df7adc",currentTime:t,fullTime:a}),(0,n.jsx)(C,{ariaLabel:"progress bar",isDisable:!u,onChange:o,progress:u?t/a:0}),(0,n.jsx)(y,{ariaLabel:"switch-sound",className:"",imageId:c,isHideForNarrow:!0,onClick:i}),(0,n.jsx)(C,{ariaLabel:"volume bar",className:"da6e9c",isHideForNarrow:!0,onChange:r,progress:l})]})}const{one:D,all:U}=f;function _(e){const{onClickShuffle:t,onClickRepeat:a,onClickPrevTrack:i,onClickPlay:s,onClickNextTrack:l,onClickTrackList:o,playingState:r,isShuffleOn:c,repeatingState:u,isTrackListOpen:f}=e,m=r===d;return(0,n.jsxs)("div",{className:"b31ddf",children:[(0,n.jsx)(y,{ariaLabel:"shuffle",imageId:"button-shuffle",isActive:c,onClick:t}),(0,n.jsx)(y,{ariaLabel:"repeat",imageId:u===D?"button-repeat-one":"button-repeat",isActive:u===D||u===U,onClick:a}),(0,n.jsx)(y,{ariaLabel:"prev",imageId:"button-prev-track",onClick:i}),m?(0,n.jsx)(y,{ariaLabel:"pause",imageId:"button-pause",onClick:s}):(0,n.jsx)(y,{ariaLabel:"play",imageId:"button-play",onClick:s}),(0,n.jsx)(y,{ariaLabel:"next",imageId:"button-next-track",onClick:l}),(0,n.jsx)(y,{ariaLabel:"track-list",imageId:"button-track-list",isActive:f,onClick:o})]})}function q(e){const{onClickShuffle:t,onClickRepeat:a,onClickPrevTrack:i,onClickPlay:s,onClickNextTrack:l,onClickTrackList:o,onClickMuteVolume:r,onChangeProgressBar:c,onChangeVolumeBar:u,isMuted:d,playingState:f,isShuffleOn:m,repeatingState:p,isTrackListOpen:h,trackCurrentTime:x,trackVolume:v,trackFullTime:b,isLoading:k}=e;return(0,n.jsxs)("div",{className:"fa9e1a",children:[(0,n.jsx)(W,{className:"bcf8d9",isShow:k,lineWidth:3,position:"absolute",size:26,wrapperHeight:26,wrapperPadding:0,wrapperWidth:26}),(0,n.jsx)(_,{isShuffleOn:m,isTrackListOpen:h,onClickNextTrack:l,onClickPlay:s,onClickPrevTrack:i,onClickRepeat:a,onClickShuffle:t,onClickTrackList:o,playingState:f,repeatingState:p}),(0,n.jsx)($,{isMuted:d,onChangeProgressBar:c,onChangeVolumeBar:u,onClickMuteVolume:r,trackCurrentTime:x,trackFullTime:b,trackVolume:v})]})}const J="bbcf1f",Z="a7a82b";function X(e){const{isCurrentTrack:t,activeIndex:i,track:s,playingState:l,onClickPlay:o,setActiveIndex:u,isLoading:f,playByIndex:m}=e,[p,h]=(0,r.useState)(0),{minutes:x,seconds:v}=j(p),k=(0,r.useRef)(null),{src:g}=s,y=function(e){const{content:t,mediaMetadata:n,src:a}=e;if(t)return t;const i=n&&n.title;if(i)return i;const s=a.split("/").pop();if(!s)return"";const l=s.lastIndexOf(".");return l>0?s.slice(0,l):s}(s),L=(0,n.jsx)(W,{isShow:f,lineWidth:4,position:"absolute",size:30,wrapperPadding:0}),C=c("b48888",{b28ca0:t});function N(){u(i)}function S(){m(i)}return(0,n.jsxs)("li",{className:C,children:[(0,n.jsx)("audio",{className:"b3c7d7",muted:!0,onLoadedMetadata:function(){const e=function(){const e=k.current;if(e)return e;throw new Error("Audio tag is not exists")}();h(e.duration)},preload:"metadata",ref:k,src:g}),function(){const e="#"+a+"button-play",i="play";return l===d?t?(0,n.jsxs)("button",{"aria-label":i,className:J,onClick:o,type:"button",children:[L,(0,n.jsx)(b,{className:"ef10a4",imageId:"#audio-player-icon-id-prefix-button-pause-playlist"})]}):(0,n.jsx)("button",{"aria-label":i,className:J,onClick:N,type:"button",children:(0,n.jsx)(b,{className:Z,imageId:e})}):t?(0,n.jsxs)("button",{"aria-label":i,className:J,onClick:o,type:"button",children:[L,(0,n.jsx)(b,{className:Z,imageId:e})]}):(0,n.jsx)("button",{"aria-label":i,className:J,onClick:S,type:"button",children:(0,n.jsx)(b,{className:Z,imageId:e})})}(),(0,n.jsx)("div",{className:"c4d018",children:(0,n.jsx)("div",{className:"bef821",children:y})}),(0,n.jsx)("div",{className:"bee42b",children:`${x}:${v}`}),(0,n.jsx)(z,{className:"c0f54f",track:s})]})}function G(e){const{activeIndex:t,trackList:a,playingState:i,onClickPlay:s,setActiveIndex:l,isLoading:o,playByIndex:r}=e;return(0,n.jsx)("ul",{className:"d6f4a6",children:a.map(((e,a)=>{const c=t===a;return(0,n.jsx)(X,{activeIndex:a,isCurrentTrack:c,isLoading:o&&c,onClickPlay:s,playByIndex:r,playingState:i,setActiveIndex:l,track:e},e.src)}))})}function K(e){const{defaultState:t,className:a,onDidMount:i,trackList:s}=e,l=function(e){return e?{...v,...e}:v}(t),[o,c]=(0,r.useState)(0),[m,p]=(0,r.useState)(0),[h,b]=(0,r.useState)(1),[k,g]=(0,r.useState)(l.isMuted),[y,j]=(0,r.useState)(u),[L,C]=(0,r.useState)(l.activeIndex),[N,w]=(0,r.useState)(l.isShuffleOn),[P,T]=(0,r.useState)(l.repeatingState),[I,V]=(0,r.useState)(l.isTrackListOpen),[H,B]=(0,r.useState)(!1),[z,A]=(0,r.useState)(!1),F=(0,r.useRef)(null);function R(){return F.current||(console.error("Audio tag is not exists"),document.createElement("audio"))}function W(){return s[L]||null}function $(){const e=W();if(!e)return;const{mediaMetadata:t}=e;t&&S(t,{nexttrack:J,previoustrack:K,seekbackward:X,seekforward:Z,stop:M(R())})}function D(e){C(e),B(!0),c(0),p(0),$()}function U(){const e=W();return e?e.src:""}function _(){const e=R();e.paused?e.play():e.pause()}function J(){D(O(s.length,L,1))}function Z(){R().currentTime+=10}function X(){R().currentTime-=10}function K(){D(O(s.length,L,-1))}return(0,r.useEffect)((()=>{const e=R();i&&i(e)}),[i]),(0,n.jsxs)("div",{className:a||"",children:[(0,n.jsx)("audio",{autoPlay:y===d,className:"e2ec9c",muted:k,onCanPlay:function(){z&&(A(!1),_())},onEnded:function(){const{one:e,all:t,none:n}=f,a=s.length;if(A(!0),a<=1)return C(0),void c(0);if(N)D(E(0,a,[L]));else{if(P===e)return A(!1),void _();P!==t?L<a-1?J():(A(!1),D(0)):J()}},onLoadedMetadata:function(){const e=R();B(!1),p(e.duration),e.volume=h},onPause:function(){j(u)},onPlay:function(){j(d),$()},onTimeUpdate:function(){const e=R();c(e.currentTime)},onVolumeChange:function(){const e=R();g(e.muted),b(e.volume)},preload:"metadata",ref:F,src:U(),volume:h,children:(0,n.jsx)("track",{kind:"captions",src:U()})},"audio-tag"),(0,n.jsx)(q,{isLoading:H,isMuted:k,isShuffleOn:N,isTrackListOpen:I,onChangeProgressBar:function(e){R().currentTime=e*m},onChangeVolumeBar:function(e){R().volume=e},onClickMuteVolume:function(){const e=R(),t=!e.muted;e.muted=t,g(t)},onClickNextTrack:J,onClickPlay:_,onClickPrevTrack:K,onClickRepeat:function(){const e=(x.indexOf(P)+1)%x.length;T(x[e])},onClickShuffle:function(){w(!N)},onClickTrackList:function(){V(!I)},playingState:y,repeatingState:P,trackCurrentTime:o,trackFullTime:m,trackVolume:h}),I?(0,n.jsx)(G,{activeIndex:L,isLoading:H,onClickPlay:_,playByIndex:function(e){C(e),B(!0);const t=R();t.addEventListener("canplay",(function e(){B(!1),t.removeEventListener("canplay",e,!1),t.play()}),!1)},playingState:y,setActiveIndex:D,trackList:s}):null]})}const Q="react-audio-player-play-list-storage-key-v.1.0.0";function Y(e){const{children:t}=e,[a,i]=(0,r.useState)(function(){if("undefined"==typeof localStorage)return[{name:"Play list",trackList:[]}];const e=localStorage.getItem(Q);return e?JSON.parse(e):[{name:"Play list",trackList:[]}]}()),s=(0,r.useCallback)((function(e){const t=a.length;for(let n=0;n<t;n+=1){const{trackList:t}=a[n],i=t.length;for(let n=0;n<i;n+=1){const a=t[n];if(a.id===e)return a}}return null}),[a]),l=(0,r.useCallback)((function(){const e={name:"Play list "+Array.from({length:4}).map(V).sort(H).join("").slice(0,4),trackList:[]},t=[...a,e];return i(t),e}),[a,i]),o=(0,r.useCallback)((function(){return[...a]}),[a]),c=(0,r.useCallback)((function(e,t){const n=[...a],s=n.indexOf(e);return s<0?new Error("Old Play List is not exists."):(n[s]=t,i(n),t)}),[a,i]),u=(0,r.useCallback)((function(e){const t=[...a],n=t.indexOf(e);return n<0?new Error("Play List is not exists."):(t.splice(n,1),i(t),null)}),[a,i]),d=(0,r.useCallback)((function(e){const t=a.length;for(let n=0;n<t;n+=1){const t=a[n],{trackList:i}=t,s=i.length;for(let n=0;n<s;n+=1)if(i[n].id===e){const e=[...i];return e.splice(n,1),c(t,{...t,trackList:e}),null}}return new Error("Track is not exists.")}),[a,c]),f=(0,r.useMemo)((()=>({createPlayList:l,deletePlayList:u,getAllPlayLists:o,getTrackById:s,isInitialized:!0,removeTrackById:d,updatePlayList:c})),[l,o,c,u,d,s]);return(0,r.useEffect)((()=>{var e;e=a,"undefined"!=typeof localStorage&&localStorage.setItem(Q,JSON.stringify(e))}),[a]),(0,n.jsx)(I.Provider,{value:f,children:t})}function ee(e){const{playList:t}=e,{trackList:a,name:i}=t,s=(0,r.useRef)(null),l=(0,r.useContext)(I),{updatePlayList:o,deletePlayList:c,getAllPlayLists:u}=l,d=u(),f=a.length>0,m=(0,r.useCallback)((function(){o(t,{name:(s.current||(()=>{throw new Error("Can not get input of play list name")})()).value.trim(),trackList:a})}),[o,t,a]),p=(0,r.useCallback)((function(){c(t)}),[c,t]),h=d.length>1&&0===a.length?"a470ec":"e85b98";return(0,n.jsxs)("div",{className:"aec634",children:[(0,n.jsxs)("div",{className:"fe1637",children:[(0,n.jsx)("input",{className:"f500e1",defaultValue:i,onBlur:m,placeholder:B,ref:s,type:"text"}),(0,n.jsx)(y,{ariaLabel:"delete",className:h,imageId:"trash-bin",onClick:p})]}),f?(0,n.jsx)(K,{trackList:a.map(P)}):(0,n.jsx)("p",{className:"ecef14",children:"∅"})]})}function te(e,t){return(0,n.jsx)(ee,{playList:e},e.name+"-"+String(t))}function ne(){const e=(0,r.useContext)(I),{createPlayList:t,getAllPlayLists:a}=e,i=a();return(0,n.jsxs)("div",{className:"a7ad0a",children:[i.map(te),(0,n.jsx)("div",{className:"b59941",children:(0,n.jsx)(y,{ariaLabel:"add play list",className:"dd564f",imageId:"play-list-plus",onClick:t})})]})}module.exports=t})();