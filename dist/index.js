(()=>{"use strict";var e={d:(t,n)=>{for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{Audio:()=>$,AudioPlayer:()=>ie,AudioPlayerControlSprite:()=>l,PlayListContext:()=>O,PlayListPanel:()=>re,PlayListProvider:()=>oe});const n=require("react/jsx-runtime"),i="audio-player-icon-id-prefix-",a="#5a5a5a",o="0 0 24 24",s="http://www.w3.org/2000/svg";function l(){return(0,n.jsxs)("svg",{className:"e05e18",children:[(0,n.jsx)("symbol",{id:i+"button-pause-playlist",viewBox:o,xmlns:s,children:(0,n.jsx)("path",{d:"M14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.84-5 6.7v2.07c4-.91 7-4.49 7-8.77 0-4.28-3-7.86-7-8.77M16.5 12c0-1.77-1-3.29-2.5-4.03V16c1.5-.71 2.5-2.24 2.5-4M3 9v6h4l5 5V4L7 9H3z",fill:"#4285f4"},void 0)},void 0),(0,n.jsx)("symbol",{id:i+"button-pause",viewBox:o,xmlns:s,children:(0,n.jsx)("path",{d:"M14 19h4V5h-4M6 19h4V5H6v14z",fill:a},void 0)},void 0),(0,n.jsx)("symbol",{id:i+"button-play",viewBox:o,xmlns:s,children:(0,n.jsx)("path",{d:"M8 5.14v14l11-7-11-7z",fill:a},void 0)},void 0),(0,n.jsx)("symbol",{id:i+"button-track-list",viewBox:"-1 -1 23 23",xmlns:s,children:(0,n.jsx)("path",{d:"M19 9H2v2h17V9m0-4H2v2h17V5M2 15h13v-2H2v2m15-2v6l5-3-5-3z",fill:a},void 0)},void 0),(0,n.jsx)("symbol",{id:i+"button-prev-track",viewBox:o,xmlns:s,children:(0,n.jsx)("path",{d:"M6 6h2v12H6zm3.5 6l8.5 6V6z",fill:a},void 0)},void 0),(0,n.jsx)("symbol",{id:i+"button-next-track",viewBox:o,xmlns:s,children:(0,n.jsx)("path",{d:"M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z",fill:a},void 0)},void 0),(0,n.jsx)("symbol",{id:i+"button-repeat",viewBox:o,xmlns:s,children:(0,n.jsx)("path",{d:"M17 17H7v-3l-4 4 4 4v-3h12v-6h-2M7 7h10v3l4-4-4-4v3H5v6h2V7z",fill:a},void 0)},void 0),(0,n.jsx)("symbol",{id:i+"button-repeat-one",viewBox:o,xmlns:s,children:(0,n.jsx)("path",{d:"M13 15V9h-1l-2 1v1h1.5v4m5.5 2H7v-3l-4 4 4 4v-3h12v-6h-2M7 7h10v3l4-4-4-4v3H5v6h2V7z",fill:a},void 0)},void 0),(0,n.jsx)("symbol",{id:i+"button-shuffle",viewBox:o,xmlns:s,children:(0,n.jsx)("path",{d:"M14.83 13.41l-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04-3.13-3.13M14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4m-9.41 5.17L5.41 4 4 5.41l5.17 5.17 1.42-1.41z",fill:a},void 0)},void 0),(0,n.jsx)("symbol",{id:i+"button-sound-off",viewBox:o,xmlns:s,children:(0,n.jsx)("path",{d:"M12 4L9.91 6.09 12 8.18M4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.26c-.67.51-1.42.93-2.25 1.17v2.07c1.38-.32 2.63-.95 3.68-1.81L19.73 21 21 19.73l-9-9M19 12c0 .94-.2 1.82-.54 2.64l1.51 1.51A8.916 8.916 0 0 0 21 12c0-4.28-3-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71m-2.5 0c0-1.77-1-3.29-2.5-4.03v2.21l2.45 2.45c.05-.2.05-.42.05-.63z",fill:a},void 0)},void 0),(0,n.jsx)("symbol",{id:i+"button-sound-on",viewBox:o,xmlns:s,children:(0,n.jsx)("path",{d:"M14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.84-5 6.7v2.07c4-.91 7-4.49 7-8.77 0-4.28-3-7.86-7-8.77M16.5 12c0-1.77-1-3.29-2.5-4.03V16c1.5-.71 2.5-2.24 2.5-4M3 9v6h4l5 5V4L7 9H3z",fill:a},void 0)},void 0),(0,n.jsx)("symbol",{id:i+"button-download",viewBox:o,xmlns:s,children:(0,n.jsx)("path",{d:"M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z",fill:a},void 0)},void 0),(0,n.jsx)("symbol",{id:i+"play-list-menu",viewBox:o,xmlns:s,children:(0,n.jsx)("path",{d:"M15 6H3v2h12V6zm0 4H3v2h12v-2zM3 16h8v-2H3v2zM17 6v8.18c-.31-.11-.65-.18-1-.18-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3V8h3V6h-5z",fill:a},void 0)},void 0),(0,n.jsx)("symbol",{id:i+"play-list-plus",viewBox:"-1 -1 23 23",xmlns:s,children:(0,n.jsx)("path",{d:"M14 10H2v2h12v-2zm0-4H2v2h12V6zm4 8v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zM2 16h8v-2H2v2z",fill:a},void 0)},void 0),(0,n.jsx)("symbol",{id:i+"trash-bin",viewBox:o,xmlns:s,children:(0,n.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z",fill:a},void 0)},void 0)]},void 0)}const r=require("react");function c(...e){const t=[];for(const n of e)if(n)if("string"!=typeof n)for(const e in n)n[e]&&t.push(e);else t.push(n);return t.join(" ")}const d="paused",u="playing",v={all:"all",none:"none",one:"one"},{none:f,all:m,one:p}=v,h=[f,m,p],x={activeIndex:0,isMuted:!1,isShuffleOn:!1,isTrackListOpen:!0,repeatingState:f};function k(e){const{className:t,imageId:i}=e;return(0,n.jsx)("svg",{className:t,children:(0,n.jsx)("use",{xlinkHref:i},void 0)},void 0)}const b="span",g="ac7b4a";function y(e){const{onClick:t,imageId:a,isActive:o,ariaLabel:s,className:l,tag:r,hasBorder:d}=e,u=c("bff2b5",{a45085:o,fde0b7:d},l),v=(0,n.jsx)(k,{className:g,imageId:"#"+i+a},void 0);return"div"===r?(0,n.jsx)("div",{className:u,children:v},void 0):r===b?(0,n.jsx)("span",{className:u,children:v},void 0):(0,n.jsx)("button",{"aria-label":s,className:u,onClick:t,type:"button",children:(0,n.jsx)(k,{className:g,imageId:"#"+i+a},void 0)},void 0)}function j(e){return{minutes:String(Math.floor(e/60)),seconds:String(Math.floor(e%60)).padStart(2,"0")}}function L(e){const{currentTime:t,fullTime:i,className:a}=e,o=c("c7b08a",a),s=function(e,t){const{minutes:n,seconds:i}=j(e),{minutes:a,seconds:o}=j(t);return`${n}:${i} / ${a}:${o}`}(t,i);return(0,n.jsx)("span",{className:o,children:s},void 0)}const C="undefined"!=typeof window,N="undefined"!=typeof navigator,S=N?navigator.userAgent:"",M=!(!N||!C)&&/iPad|iPhone|iPod/.test(S),w=!!N&&/(android)/i.test(S),P=!M&&!w&&C;function T(e){const[t,i]=(0,r.useState)(!1),a=(0,r.useRef)(null),{className:o,isDisable:s,progress:l,onChange:d,ariaLabel:u}=e,v=c("e0b58b",o,{d6d969:t,c0ae57:!0===s});return(0,n.jsxs)("div",{className:v,onPointerDown:function(){i(!0)},onPointerUp:function(){i(!1)},children:[(0,n.jsx)("div",{className:"cc7be8",children:(0,n.jsx)("div",{className:"c44fc5",style:{transform:`translateZ(0) scaleX(${l||0})`}},void 0)},void 0),(0,n.jsx)("div",{className:"eee1d0",children:(0,n.jsx)("div",{className:"f79532",style:{left:100*l+"%"}},void 0)},void 0),(0,n.jsx)("input",{"aria-label":u,className:"f9d0be",defaultValue:0,max:1,min:0,onChange:function(){d(function(){const{current:e}=a;return e?Number.parseFloat(e.value):0}())},ref:a,step:.001,type:"range"},void 0)]},void 0)}const I=["nexttrack","pause","play","previoustrack","seekbackward","seekforward"];function V(e,t){if("undefined"!=typeof navigator&&"undefined"!=typeof MediaMetadata&&"mediaSession"in navigator&&(function(){if("undefined"!=typeof navigator&&"undefined"!=typeof MediaMetadata&&"mediaSession"in navigator){navigator.mediaSession.metadata=null;for(const e of I)navigator.mediaSession.setActionHandler(e,null)}}(),navigator.mediaSession.metadata=new MediaMetadata(e),t))for(const e of I)navigator.mediaSession.setActionHandler(e,t[e]||null)}function B(e){return function(){e.currentTime=0,e.addEventListener("canplay",(function t(){e.removeEventListener("canplay",t,!1),e.play().then((()=>{e.pause(),e.currentTime=0}))}),!1)}}function z(e,t){return e.src===t.src}function H(e){const{src:t,mediaMetadata:n,content:i}=e;let a={src:t};return n&&(a={...a,mediaMetadata:n}),i&&(a={...a,content:i}),a}const A=function(){const e={name:"",trackList:[]};return{createPlayList:()=>e,deletePlayList:e=>new Error("deletePlayList: overwrite me"),getAllPlayLists:()=>[e],getTrackById:e=>null,isInitialized:!1,removeTrackById:e=>new Error("removeTrack: overwrite me"),updatePlayList:(e,t)=>new Error("updatePlayList: overwrite me")}}(),O=(0,r.createContext)(A);function E(){return Math.round(1e6*Math.random()).toString(16)}function R(){return Math.random()>.5?1:-1}const F="No name playlist";function W(e){const{className:t,track:i}=e,a=c("cf10f9",t),o=(0,r.useContext)(O),[s,l]=(0,r.useState)(0),{getAllPlayLists:d,updatePlayList:u,removeTrackById:v,isInitialized:f}=o,m=d(),p="-1",h=(0,r.useCallback)((function(e){const t=e.currentTarget,n=Number.parseInt(t.value,10),a=m[n],{src:o,mediaMetadata:r,content:c}=i;if(l(s+1),!a)return;const d=a.trackList.find((e=>z(e,i)));if(d)return void v(d.id);let f={id:E(),src:o};r&&(f={...f,mediaMetadata:r}),"string"==typeof c&&(f={...f,content:c});const h=[f,...a.trackList];u(a,{...a,trackList:h}),t.value=p}),[m,u,i,p,v,l,s]);return f?(0,n.jsxs)("label",{className:"b8f0f4",children:[(0,n.jsx)(y,{ariaLabel:"play list menu",className:a,imageId:"play-list-menu"},void 0),(0,n.jsxs)("select",{className:"f2a1b7",defaultValue:p,onChange:h,children:[(0,n.jsx)("option",{disabled:!0,value:p,children:" "},void 0),m.map(((e,t)=>{const a=e.trackList.find((e=>z(e,i))),o=e.name.trim()||F,s=(a?"[✓]":"[_]")+" "+o;return(0,n.jsx)("option",{value:t,children:s},String(t)+o)}))]},s)]},void 0):null}function $(e){const{src:t,mediaMetadata:i,className:a,onDidMount:o,downloadFileName:s,useRepeatButton:l=!1}=e,v=(0,r.useRef)(null),[f,m]=(0,r.useState)(0),[p,h]=(0,r.useState)(0),[x,k]=(0,r.useState)(P?.5:1),[g,j]=(0,r.useState)(!1),[C,N]=(0,r.useState)(d),[S,M]=(0,r.useState)(!1),w=g||0===x?"button-sound-off":"button-sound-on";function I(){const e=v.current;if(e)return e;throw new Error("Audio tag is not exists")}function z(){I().play()}function H(){I().currentTime+=10}function A(){I().currentTime-=10}return(0,r.useEffect)((()=>{const e=I();o&&o(e)}),[o]),(0,n.jsxs)("div",{className:c("ce6c17",a),children:[(0,n.jsx)("audio",{className:"e22549",onEnded:function(){if(I().currentTime=0,S)return m(0),void z();N(d),m(0)},onLoadedMetadata:function(){const e=I();m(0),h(e.duration),e.volume=x},onPause:function(){N(d)},onPlay:function(){N(u);const e={seekbackward:A,seekforward:H,stop:B(I())};V(i||{title:t},e)},onTimeUpdate:function(){const e=I();m(e.currentTime)},onVolumeChange:function(){const e=I();j(e.muted),k(e.volume)},preload:"metadata",ref:v,src:t,volume:x,children:(0,n.jsx)("track",{kind:"captions",src:t},void 0)},void 0),C===u?(0,n.jsx)(y,{ariaLabel:"pause",imageId:"button-pause",onClick:function(){I().pause()}},void 0):(0,n.jsx)(y,{ariaLabel:"play",imageId:"button-play",onClick:z},void 0),l?(0,n.jsx)(y,{ariaLabel:"repeat",imageId:"button-repeat",isActive:S,onClick:function(){M(!S)}},void 0):null,(0,n.jsx)(L,{className:"e154e9",currentTime:f,fullTime:p},void 0),(0,n.jsx)(T,{ariaLabel:"progress bar",onChange:function(e){const t=I(),n=e*p;t.currentTime=n,m(n)},progress:f/p},void 0),P?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(y,{ariaLabel:"switch-sound",imageId:w,onClick:function(){const e=I(),t=!e.muted;e.muted=t,j(t)}},void 0),(0,n.jsx)(T,{ariaLabel:"volume bar",className:"cae029",onChange:function(e){I().volume=e,k(e)},progress:x},void 0)]},void 0):null,(0,n.jsx)("a",{className:"a3d9e7",download:s||!0,href:t,children:(0,n.jsx)(y,{ariaLabel:"download",imageId:"button-download",tag:b},void 0)},void 0),(0,n.jsx)(W,{track:{mediaMetadata:i,src:t}},void 0)]},void 0)}function D(e,t,n){const i=(t+n)%e;return i<0?i+e:i}function U(e,t,n){if(t-e<1)return e;const i=e+Math.floor(Math.random()*(t-e));return n&&n.includes(i)?U(e,t,n):i}const _="static",{size:q}={size:48};function J(e){const{size:t,lineWidth:i,arcColor:a,circleColor:o,isShow:s,wrapperWidth:l,wrapperHeight:r,position:d,wrapperColor:u,wrapperPadding:v,className:f}=e;if(!1===s)return null;const m=d||_,p=t||q,h={borderColor:o,borderTopColor:a,borderWidth:i,height:p,width:p},x={backgroundColor:u,height:r,minHeight:p,minWidth:p,padding:v,position:m,width:l};return(0,n.jsx)("div",{className:c("c82f2f",f,{da10e0:m===_}),style:x,children:(0,n.jsx)("div",{className:"d9b0ab",style:h},void 0)},void 0)}function Z(e){const{trackCurrentTime:t,trackFullTime:i,onClickMuteVolume:a,isMuted:o,trackVolume:s,onChangeProgressBar:l,onChangeVolumeBar:r}=e,c=o||0===s?"button-sound-off":"button-sound-on",d=0!==i;return(0,n.jsxs)("div",{className:"bd925c",children:[(0,n.jsx)(L,{className:"df7adc",currentTime:t,fullTime:i},void 0),(0,n.jsx)(T,{ariaLabel:"progress bar",isDisable:!d,onChange:l,progress:d?t/i:0},void 0),P?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(y,{ariaLabel:"switch-sound",className:"",imageId:c,onClick:a},void 0),(0,n.jsx)(T,{ariaLabel:"volume bar",className:"da6e9c",onChange:r,progress:s},void 0)]},void 0):null]},void 0)}const{one:X,all:G}=v;function K(e){const{onClickShuffle:t,onClickRepeat:i,onClickPrevTrack:a,onClickPlay:o,onClickNextTrack:s,onClickTrackList:l,playingState:r,isShuffleOn:c,repeatingState:d,isTrackListOpen:v}=e,f=r===u;return(0,n.jsxs)("div",{className:"b31ddf",children:[(0,n.jsx)(y,{ariaLabel:"shuffle",imageId:"button-shuffle",isActive:c,onClick:t},void 0),(0,n.jsx)(y,{ariaLabel:"repeat",imageId:d===X?"button-repeat-one":"button-repeat",isActive:d===X||d===G,onClick:i},void 0),(0,n.jsx)(y,{ariaLabel:"prev",imageId:"button-prev-track",onClick:a},void 0),f?(0,n.jsx)(y,{ariaLabel:"pause",imageId:"button-pause",onClick:o},void 0):(0,n.jsx)(y,{ariaLabel:"play",imageId:"button-play",onClick:o},void 0),(0,n.jsx)(y,{ariaLabel:"next",imageId:"button-next-track",onClick:s},void 0),(0,n.jsx)(y,{ariaLabel:"track-list",imageId:"button-track-list",isActive:v,onClick:l},void 0)]},void 0)}function Q(e){const{onClickShuffle:t,onClickRepeat:i,onClickPrevTrack:a,onClickPlay:o,onClickNextTrack:s,onClickTrackList:l,onClickMuteVolume:r,onChangeProgressBar:c,onChangeVolumeBar:d,isMuted:u,playingState:v,isShuffleOn:f,repeatingState:m,isTrackListOpen:p,trackCurrentTime:h,trackVolume:x,trackFullTime:k,isLoading:b}=e;return(0,n.jsxs)("div",{className:"fa9e1a",children:[(0,n.jsx)(J,{className:"bcf8d9",isShow:b,lineWidth:3,position:"absolute",size:26,wrapperHeight:26,wrapperPadding:0,wrapperWidth:26},void 0),(0,n.jsx)(K,{isShuffleOn:f,isTrackListOpen:p,onClickNextTrack:s,onClickPlay:o,onClickPrevTrack:a,onClickRepeat:i,onClickShuffle:t,onClickTrackList:l,playingState:v,repeatingState:m},void 0),(0,n.jsx)(Z,{isMuted:u,onChangeProgressBar:c,onChangeVolumeBar:d,onClickMuteVolume:r,trackCurrentTime:h,trackFullTime:k,trackVolume:x},void 0)]},void 0)}const Y="bbcf1f",ee="a7a82b";function te(e){const{isCurrentTrack:t,activeIndex:a,track:o,playingState:s,onClickPlay:l,setActiveIndex:d,isLoading:v,playByIndex:f}=e,[m,p]=(0,r.useState)(0),{minutes:h,seconds:x}=j(m),b=(0,r.useRef)(null),{src:g}=o,y=function(e){const{content:t,mediaMetadata:n,src:i}=e;if(t)return t;const a=n&&n.title;if(a)return a;const o=i.split("/").pop();if(!o)return"";const s=o.lastIndexOf(".");return s>0?o.slice(0,s):o}(o),L=(0,n.jsx)(J,{isShow:v,lineWidth:4,position:"absolute",size:30,wrapperPadding:0},void 0),C=c("b48888",{b28ca0:t});function N(){d(a)}function S(){f(a)}return(0,n.jsxs)("li",{className:C,children:[(0,n.jsx)("audio",{className:"b3c7d7",muted:!0,onLoadedMetadata:function(){const e=function(){const e=b.current;if(e)return e;throw new Error("Audio tag is not exists")}();p(e.duration)},preload:"metadata",ref:b,src:g},void 0),function(){const e="#"+i+"button-play",a="play";return s===u?t?(0,n.jsxs)("button",{"aria-label":a,className:Y,onClick:l,type:"button",children:[L,(0,n.jsx)(k,{className:"ef10a4",imageId:"#audio-player-icon-id-prefix-button-pause-playlist"},void 0)]},void 0):(0,n.jsx)("button",{"aria-label":a,className:Y,onClick:N,type:"button",children:(0,n.jsx)(k,{className:ee,imageId:e},void 0)},void 0):t?(0,n.jsxs)("button",{"aria-label":a,className:Y,onClick:l,type:"button",children:[L,(0,n.jsx)(k,{className:ee,imageId:e},void 0)]},void 0):(0,n.jsx)("button",{"aria-label":a,className:Y,onClick:S,type:"button",children:(0,n.jsx)(k,{className:ee,imageId:e},void 0)},void 0)}(),(0,n.jsx)("div",{className:"c4d018",children:(0,n.jsx)("div",{className:"bef821",children:y},void 0)},void 0),(0,n.jsx)("div",{className:"bee42b",children:`${h}:${x}`},void 0),(0,n.jsx)(W,{className:"c0f54f",track:o},void 0)]},void 0)}function ne(e){const{activeIndex:t,trackList:i,playingState:a,onClickPlay:o,setActiveIndex:s,isLoading:l,playByIndex:r}=e;return(0,n.jsx)("ul",{className:"d6f4a6",children:i.map(((e,i)=>{const c=t===i;return(0,n.jsx)(te,{activeIndex:i,isCurrentTrack:c,isLoading:l&&c,onClickPlay:o,playByIndex:r,playingState:a,setActiveIndex:s,track:e},e.src)}))},void 0)}function ie(e){const{defaultState:t,className:i,onDidMount:a,trackList:o}=e,s=function(e){return e?{...x,...e}:x}(t),[l,c]=(0,r.useState)(0),[f,m]=(0,r.useState)(0),[p,k]=(0,r.useState)(P?.5:1),[b,g]=(0,r.useState)(s.isMuted),[y,j]=(0,r.useState)(d),[L,C]=(0,r.useState)(s.activeIndex),[N,S]=(0,r.useState)(s.isShuffleOn),[M,w]=(0,r.useState)(s.repeatingState),[T,I]=(0,r.useState)(s.isTrackListOpen),[z,H]=(0,r.useState)(!1),[A,O]=(0,r.useState)(!1),E=(0,r.useRef)(null);function R(){return E.current||(console.error("Audio tag is not exists"),document.createElement("audio"))}function F(){return o[L]||null}function W(){const e=F();if(!e)return;const{mediaMetadata:t}=e;t&&V(t,{nexttrack:J,previoustrack:G,seekbackward:X,seekforward:Z,stop:B(R())})}function $(e){C(e),H(!0),c(0),m(0),W()}function _(){const e=F();return e?e.src:""}function q(){const e=R();e.paused?e.play():e.pause()}function J(){$(D(o.length,L,1))}function Z(){R().currentTime+=10}function X(){R().currentTime-=10}function G(){$(D(o.length,L,-1))}return(0,r.useEffect)((()=>{const e=R();a&&a(e)}),[a]),(0,n.jsxs)("div",{className:i||"",children:[(0,n.jsx)("audio",{autoPlay:y===u,className:"e2ec9c",muted:b,onCanPlay:function(){A&&(O(!1),q())},onEnded:function(){const{one:e,all:t,none:n}=v,i=o.length;if(O(!0),i<=1)return C(0),void c(0);if(N)$(U(0,i,[L]));else{if(M===e)return O(!1),void q();M!==t?L<i-1?J():(O(!1),$(0)):J()}},onLoadedMetadata:function(){const e=R();H(!1),m(e.duration),e.volume=p},onPause:function(){j(d)},onPlay:function(){j(u),W()},onTimeUpdate:function(){const e=R();c(e.currentTime)},onVolumeChange:function(){const e=R();g(e.muted),k(e.volume)},preload:"metadata",ref:E,src:_(),volume:p,children:(0,n.jsx)("track",{kind:"captions",src:_()},void 0)},"audio-tag"),(0,n.jsx)(Q,{isLoading:z,isMuted:b,isShuffleOn:N,isTrackListOpen:T,onChangeProgressBar:function(e){R().currentTime=e*f},onChangeVolumeBar:function(e){R().volume=e},onClickMuteVolume:function(){const e=R(),t=!e.muted;e.muted=t,g(t)},onClickNextTrack:J,onClickPlay:q,onClickPrevTrack:G,onClickRepeat:function(){const e=(h.indexOf(M)+1)%h.length;w(h[e])},onClickShuffle:function(){S(!N)},onClickTrackList:function(){I(!T)},playingState:y,repeatingState:M,trackCurrentTime:l,trackFullTime:f,trackVolume:p},void 0),T?(0,n.jsx)(ne,{activeIndex:L,isLoading:z,onClickPlay:q,playByIndex:function(e){C(e),H(!0);const t=R();t.addEventListener("canplay",(function e(){H(!1),t.removeEventListener("canplay",e,!1),t.play()}),!1)},playingState:y,setActiveIndex:$,trackList:o},void 0):null]},void 0)}const ae="react-audio-player-play-list-storage-key-v.1.0.0";function oe(e){const{children:t}=e,[i,a]=(0,r.useState)(function(){if("undefined"==typeof localStorage)return[{name:"Play list",trackList:[]}];const e=localStorage.getItem(ae);return e?JSON.parse(e):[{name:"Play list",trackList:[]}]}()),o=(0,r.useCallback)((function(e){const t=i.length;for(let n=0;n<t;n+=1){const{trackList:t}=i[n],a=t.length;for(let n=0;n<a;n+=1){const i=t[n];if(i.id===e)return i}}return null}),[i]),s=(0,r.useCallback)((function(){const e={name:"Play list "+Array.from({length:4}).map(E).sort(R).join("").slice(0,4),trackList:[]},t=[...i,e];return a(t),e}),[i,a]),l=(0,r.useCallback)((function(){return[...i]}),[i]),c=(0,r.useCallback)((function(e,t){const n=[...i],o=n.indexOf(e);return o<0?new Error("Old Play List is not exists."):(n[o]=t,a(n),t)}),[i,a]),d=(0,r.useCallback)((function(e){const t=[...i],n=t.indexOf(e);return n<0?new Error("Play List is not exists."):(t.splice(n,1),a(t),null)}),[i,a]),u=(0,r.useCallback)((function(e){const t=i.length;for(let n=0;n<t;n+=1){const t=i[n],{trackList:a}=t,o=a.length;for(let n=0;n<o;n+=1)if(a[n].id===e){const e=[...a];return e.splice(n,1),c(t,{...t,trackList:e}),null}}return new Error("Track is not exists.")}),[i,c]),v=(0,r.useMemo)((()=>({createPlayList:s,deletePlayList:d,getAllPlayLists:l,getTrackById:o,isInitialized:!0,removeTrackById:u,updatePlayList:c})),[s,l,c,d,u,o]);return(0,r.useEffect)((()=>{var e;e=i,"undefined"!=typeof localStorage&&localStorage.setItem(ae,JSON.stringify(e))}),[i]),(0,n.jsx)(O.Provider,{value:v,children:t},void 0)}function se(e){const{playList:t}=e,{trackList:i,name:a}=t,o=(0,r.useRef)(null),s=(0,r.useContext)(O),{updatePlayList:l,deletePlayList:c,getAllPlayLists:d}=s,u=d(),v=i.length>0,f=(0,r.useCallback)((function(){l(t,{name:(o.current||(()=>{throw new Error("Can not get input of play list name")})()).value.trim(),trackList:i})}),[l,t,i]),m=(0,r.useCallback)((function(){c(t)}),[c,t]),p=u.length>1&&0===i.length?"a470ec":"e85b98";return(0,n.jsxs)("div",{className:"aec634",children:[(0,n.jsxs)("div",{className:"fe1637",children:[(0,n.jsx)("input",{className:"f500e1",defaultValue:a,onBlur:f,placeholder:F,ref:o,type:"text"},void 0),(0,n.jsx)(y,{ariaLabel:"delete",className:p,imageId:"trash-bin",onClick:m},void 0)]},void 0),v?(0,n.jsx)(ie,{trackList:i.map(H)},void 0):(0,n.jsx)("p",{className:"ecef14",children:"∅"},void 0)]},void 0)}function le(e,t){return(0,n.jsx)(se,{playList:e},e.name+"-"+String(t))}function re(){const e=(0,r.useContext)(O),{createPlayList:t,getAllPlayLists:i}=e,a=i();return(0,n.jsxs)("div",{className:"a7ad0a",children:[a.map(le),(0,n.jsx)("div",{className:"b59941",children:(0,n.jsx)(y,{ariaLabel:"add play list",className:"dd564f",imageId:"play-list-plus",onClick:t},void 0)},void 0)]},void 0)}module.exports=t})();